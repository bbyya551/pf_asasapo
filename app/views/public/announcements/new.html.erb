<div class='container'>
  <div class='row no-gutters'>
    <div class="col-md-5 col-sm-10 mx-2 mx-sm-auto shadow-lg rounded px-0 my-5">
    <h2 class="text-center text-dark bg-light p-4 mb-0">朝活宣言 <i class="fa-solid fa-sun"></i></h2>
    <div class="form-body bg-light p-4">
    <%= render 'layouts/errors', obj: @announcement %>
    <!--<%#= form_with model: [:public, @user, @announcement], url: user_announcements_path(@user.id), method: :post, local: false, data: {"turbolinks" => false} do |f| %>-->
    <%= form_with model: [:public, @user, @announcement], url: user_announcements_path(@user.id), method: :post, local: true do |f| %>
      <%#= render 'layouts/errors', obj: @user %>

      <div class="form-group">
        <%= f.label :announcement, "朝活宣言" %> <i class="fa-solid fa-pen-clip"></i>
        <%= f.text_field :announcement, placeholder:"朝活をここに", autofocus: true, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.radio_button :achieve_status, Announcement.achieve_statuses.key(0) %>
        <!--labelの方にもvalue: Announcement.achieve_statuses.key(0)を指定してやらないと、radio_buttonのテスト「expect(page).to have_checked_field('未達成')」がうまくいかない-->
        <%= f.label :achieve_status, Announcement.achieve_statuses_i18n[:nonachieve], value: Announcement.achieve_statuses.key(0) %>

        <%= f.radio_button :achieve_status, Announcement.achieve_statuses.key(1) %>
        <%= f.label :achieve_status, Announcement.achieve_statuses_i18n[:achieve], value: Announcement.achieve_statuses.key(1) %>
      </div>

      <div class="time">
        <%= f.label :start_time, '開始時間' %>
        <%= f.datetime_select :start_time %>
      </div>

      <div class="form-group">
        <%= f.submit '宣言する', class: 'btn btn-outline-warning' %>
      </div>
    <% end %>
    </div>
    </div>
  </div>
</div>
