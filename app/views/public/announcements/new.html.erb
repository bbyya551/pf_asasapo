<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
    <h2>朝活宣言</h2>
    <%= render 'layouts/errors', obj: @announcement %>
    <%= form_with model: [:public, @user, @announcement], url: user_announcements_path(@user.id), method: :post, local: true do |f| %>
      <%#= render 'layouts/errors', obj: @user %>

      <div class="form-group">
        <%= f.label :announcement, "朝活宣言" %>
        <%= f.text_field :announcement, class: "form-control" %>
      </div>
      <div class="form-group">
        <%= f.radio_button :achieve_status, Announcement.achieve_statuses.key(0) %>
        <!--labelの方にもvalue: Announcement.achieve_statuses.key(0)を指定してやらないと、radio_buttonのテスト「expect(page).to have_checked_field('未達成')」がうまくいかない-->
        <%= f.label :achieve_status, Announcement.achieve_statuses_i18n[:nonachieve], value: Announcement.achieve_statuses.key(0) %>

        <%= f.radio_button :achieve_status, Announcement.achieve_statuses.key(1) %>
        <%= f.label :achieve_status, Announcement.achieve_statuses_i18n[:achieve], value: Announcement.achieve_statuses.key(1) %>
      </div>

      <div class="time">
        <%= f.label :start_time %>
        <%= f.datetime_select :start_time %>
      </div>

      <div class="form-group">
        <%= f.submit class: 'btn btn-outline-warning' %>
      </div>
    <% end %>
    </div>
  </div>
</div>
