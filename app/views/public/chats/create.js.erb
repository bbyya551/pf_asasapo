/* global $*/
// 追加したい要素をバッククオーテーションで囲むとうまくいった
$('.message').append(
   `<div class="chat-face" style="text-align: right;">
      <%= image_tag @chat.user.get_profile_image(50, 50), class: "rounded-circle" %>
    </div>
    <p style="text-align: right;">
      <strong><span class="chat-message p-1"><%= @chat.message %></span></strong><br>
      <span class="date"><%= @chat.created_at.strftime("%Y-%m-%d %H:%M") %></span>
    </p>`
 );

$("#chat_message").val("");

// ここから部分テンプレートを返す
// $(".message").html("<%#= j(render 'public/chats/index', chats: @chats) %>");
// $("#chat_message").val("");
// ここまで

// $(".jscroll").html("<%#= j(render 'public/chats/index', chats: @chats) %>");

// $(window).on('scroll', function() {
//     console.log('start');
//     scrollHeight = $(document).height();
//     scrollPosition = $(window).height() + $(window).scrollTop();
//     if ( (scrollHeight - scrollPosition) / scrollHeight <= 0.05) {
//           $('.jscroll').jscroll({
//             contentSelector: '.scroll-list',
//             nextSelector: 'a[rel=next]:last'
//           });
//     }
//   });
// $('input[type=text]').val("")